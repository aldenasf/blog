---
import { getCollection } from "astro:content";
import Page from "../layouts/Page.astro";
import Card from "../components/Card.astro";

const posts = (await getCollection("posts")).sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());

const latestPost = posts.shift();
---

<Page>
    <main class="flex flex-wrap justify-center py-2 lg:py-8">
        <div id="latest-post">
            <div class="flex justify-center">
                <h1 class="text-xl font-semibold text-neutral-300">Latest Post</h1>
            </div>
            {
                latestPost ? (
                    <Card
                        latest
                        href={`/post/${latestPost.slug}`}
                        title={latestPost.data.title}
                        date={latestPost.data.date}
                        image={latestPost.data.image}
                    />
                ) : null
            }
        </div>
        <div id="posts" class="grid grid-cols-1 lg:mt-4 lg:grid-cols-2">
            {
                posts.map((post) => (
                    <Card
                        href={`/post/${post.slug}`}
                        title={post.data.title}
                        date={post.data.date}
                        image={post.data.image}
                    />
                    // <li>
                    //     <a href={`/blog/${post.slug}/`}>
                    //         <img width={720} height={360} src={post.data.image} alt="" />
                    //         <h4 class="title">{post.data.title}</h4>
                    //         <p class="date">post.data.date</p>
                    //     </a>
                    // </li>
                ))
            }
            <!-- <Card />
            <Card />
            <Card />
            <Card /> -->
        </div>
    </main>
</Page>
